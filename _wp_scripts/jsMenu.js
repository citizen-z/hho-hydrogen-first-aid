function wp_button_menu_stack(){var j=this,eL;j.element=[];j.m_timer=null;j.isIE=/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent);j.rollovers=[];j.extrahtml='';j.exclude='';j.m_timeoutDelay=500;j.addMenu=function(a,b,c){j.extrahtml+=c;j.rollovers.push([a,b,{}])};j.setCurrent=function(a){var b;for(b=0;b<a.length;b+=1){eL=document.getElementById(a[b]);if(eL){eL.m_currentpage=true}}};j.setRollovers=function(a){document.write(j.extrahtml);j.addRollovers(j.rollovers);j.addRollovers(a)};j.addRollovers=function(a){var b;for(b=0;b<a.length;b+=1){var c=a[b];var d=document.getElementById(c[0]);if(d){var e=null;if(c[1]){e=document.getElementById(c[1])}if(e){j.getOption(e,c[2],'m_ispanel',false)}if(e&&e.m_ispanel){j.initPanel(d,e,c[2])}else{d.m_menu=e;if(e){j.getOption(e,c[2],'m_vertical',false)}j.getOption(d,c[2],'m_linkRect',null);j.initLink(d)}}}};j.setMenus=function(a,b){var c;for(c=0;c<a.length;c+=1){var d=document.getElementById(a[c]);j.initMenu(d,b)}};j.addEvent=function(a,b,e){if(a.addEventListener){a.addEventListener(b,e,false)}else if(a.attachEvent){a.attachEvent('on'+b,e)}};j.initPanel=function(a,b,c){a.m_active=false;var d={};j.getOption(d,c,'m_event',0);j.getOption(d,c,'m_fade',true);j.getOption(d,c,'m_fadespeed',10);if(d.m_event===0||d.m_event===1){j.addEvent(a,'mouseover',j.showEvent(a,b,1,false,d.m_fade,d.m_fadespeed))}if(d.m_event===0){j.addEvent(a,'mouseout',j.showEvent(a,b,0,false,d.m_fade,d.m_fadespeed))}if(d.m_event===2||d.m_event===3){j.addEvent(a,'click',j.showEvent(a,b,1,false,d.m_fade,d.m_fadespeed,d.m_event===3))}if(d.m_event===3){j.addEvent(document,'click',j.showEvent(a,b,0,false,d.m_fade,d.m_fadespeed,true));j.addEvent(b,'click',j.ignoreEvent())}if(d.m_event===4){j.addEvent(a,'click',j.showEvent(a,b,2,false,d.m_fade,d.m_fadespeed))}if(d.m_event===5){j.addEvent(a,'click',j.showEvent(a,b,0,false,d.m_fade,d.m_fadespeed))}if(d.m_event===6){a.m_menu=b;j.initMenuLink(a,d)}j.getOption(b,c,'m_opacity',100)};j.initLink=function(a){j.addEvent(a,'mouseover',j.showEvent(a,a.m_menu,1,true,a.m_menu?a.m_menu.m_fade:false,a.m_menu?a.m_menu.m_fadespeed:0));j.addEvent(a,'mouseout',j.showEvent(a,a.m_menu,0,true,a.m_menu?a.m_menu.m_fade:false,a.m_menu?a.m_menu.m_fadespeed:0));j.addEvent(a,'click',function(){j.showMenu(null)});if(a.attachEvent){a.attachEvent('onselectstart',j.selectStart)}a.m_active=false;j.setLinkStyle(a)};j.initMenuLink=function(a,b){j.initLink(a);if(a.m_menu){j.initMenu(a.m_menu,b)}};j.initMenu=function(a,b){j.getOption(a,b,'m_opacity',100);j.getOption(a,b,'m_fade',true);j.getOption(a,b,'m_fadespeed',10);if(!a.m_ispanel){j.getOption(a,b,'m_minwidth',0);j.getOption(a,b,'m_hOffset',1);j.getOption(a,b,'m_hPosition',1);j.getOption(a,b,'m_hAlignment',0);j.getOption(a,b,'m_vOffset',1);j.getOption(a,b,'m_vPosition',1);j.getOption(a,b,'m_vAlignment',0);j.getOption(a,b,'m_xPad',3);j.getOption(a,b,'m_yPad',3);j.getOption(a,b,'m_xOffset',1);j.getOption(a,b,'m_yOffset',1);j.getOption(a,b,'m_arrow',true);j.getOption(a,b,'m_arrowopt',0);j.getOption(a,b,'m_balance',true);j.getOption(a,b,'m_menuStyle',{});j.getOption(a,b,'m_rowStyle',{});j.getOption(a,b,'m_linkNormalStyle',{});j.getOption(a,b,'m_linkCurrentStyle',{});j.getOption(a,b,'m_linkRolloverStyle',{});j.getOption(a,b,'m_linkPopupStyle',{});j.getOption(a,b,'m_linkRolloverPopupStyle',{});j.getOption(a,b,'m_separatorStyle',{});j.getOption(a,b,'m_separatorRowStyle',{});a.style.position='absolute';a.style.top='-1000px';a.style.visibility='hidden';a.style.zIndex='200';a.style.borderCollapse='collapse';j.applyStyle(a,a.m_menuStyle);var c;var d;if(a.tagName.toLowerCase()==='table'){var e=a.getElementsByTagName('tr');for(d=0;d<e.length;d+=1){var f=e[d].getElementsByTagName('td')[0];j.applyStyle(f,a.m_rowStyle);f.style.paddingTop='0';f.style.paddingLeft='0';f.style.paddingBottom='0';f.style.paddingRight='0';c=f.getElementsByTagName('a')[0];if(c){c.m_parentmenu=a;c.style.display='block';c.style.backgroundRepeat='no-repeat';c.style.backgroundPosition=(a.m_hPosition===0)?'left center':'right center';c.style.backgroundAttachment='scroll';c.style.minWidth=a.m_minwidth+'px';j.initMenuLink(c,b);if(c.m_menu){a.m_hasmenu=true}j.setLinkStyle(c)}var g=f.getElementsByTagName('div')[0];if(g){g.m_separator=true;g.m_parentmenu=a;g.style.height='0px';j.applyStyle(f,a.m_separatorRowStyle);f.style.fontSize='1px';j.applyStyle(g,a.m_separatorStyle);j.initMenuLink(g,b)}}}else{var h=a.getElementsByTagName('a');for(d=0;d<h.length;d+=1){c=h[d];c.m_parentmenu=a;j.initMenuLink(c,b)}}}j.addEvent(a,'mouseover',j.showEvent(null,a,1,true,a.m_fade,a.m_fadespeed));j.addEvent(a,'mouseout',j.showEvent(null,a,0,true,a.m_fade,a.m_fadespeed))};j.getOption=function(a,b,c,d){a[c]=(b&&b[c]!==undefined)?b[c]:d};j.fixWidth=function(a){if(j.isIE){var b=a.getElementsByTagName('tr');var x=a.offsetWidth;var c=0;for(;c<b.length;c+=1){var d=b[c].getElementsByTagName('td')[0];var e=d.getElementsByTagName('a')[0];if(e){e.style.width=Math.max(a.m_minwidth,x-parseInt(a.style.borderLeftWidth,10)-parseInt(a.style.borderRightWidth,10)-parseInt(e.style.paddingLeft,10)-parseInt(e.style.paddingRight,10))+'px'}}}};j.ignoreEvent=function(){function doignore(e){if(!e){e=window.event}e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation()}}return doignore};j.showEvent=function(b,c,d,f,g,h,i){function doshowpanel(e){if(i&&!d&&c&&j.exclude===c){j.exclude=null;return}if(i&&d){if(!e){e=window.event}e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation()}}if(f===true){clearTimeout(j.m_timer);if(d===1){if(b){j.showMenu(b)}}else{var a=function(){j.showMenu(null)};j.m_timer=setTimeout(a,j.m_timeoutDelay)}}else{j.showItem(c,d,g,h)}if(i&&d){j.exclude=c}}return doshowpanel};j.selectStart=function(){return false};j.showItem=function(e,a,b,c){var d=(e.style.visibility!=='hidden')&&(e.m_interval===undefined||e.m_fadeopacity<e.m_opacity);var f=(a===1)?true:(a===2)?!d:false;if(b){if(e.m_interval!==undefined){clearInterval(e.m_interval)}else{if(!f&&e.style.visibility==='hidden'){return}if(f&&e.style.visibility!=='hidden'){return}e.m_fadeopacity=f?0:e.m_opacity}e.style.visibility='';j.setOpacity(e,e.m_fadeopacity);var g=function(){e.m_fadeopacity+=f?10:-10;if((f&&e.m_fadeopacity>=e.m_opacity)||(!f&&e.m_fadeopacity<=0)){clearInterval(e.m_interval);e.m_interval=e.m_fadeopacity=undefined;if(!f){e.style.visibility='hidden'}j.setOpacity(e,e.m_opacity)}else{j.setOpacity(e,e.m_fadeopacity)}};e.m_interval=setInterval(g,1400/(c*c+4))}else{e.style.visibility=f?'':'hidden'}};j.setOpacity=function(e,a){e.style.opacity=(a===100)?'':(a/100);e.style.filter=(a===100)?'':"progid:DXImageTransform.Microsoft.Alpha(opacity="+a+")"};j.applyStyle=function(e,a){for(var b in a){if(a.hasOwnProperty(b)){e.style[b]=a[b]}}};j.setLinkStyle=function(a){var c=a.m_parentmenu;if(c&&c.tagName.toLowerCase()==='table'){if(!a.m_separator){var l=c.m_xPad;var r=c.m_xPad;var t=c.m_yPad;var b=c.m_yPad;j.applyStyle(a,c.m_linkNormalStyle);if(a.m_currentpage){j.applyStyle(a,c.m_linkCurrentStyle)}if(a.m_active){j.applyStyle(a,c.m_linkRolloverStyle);l+=c.m_xOffset;r-=c.m_xOffset;t+=c.m_yOffset;b-=c.m_yOffset}if(a.m_menu){j.applyStyle(a,a.m_active?c.m_linkRolloverPopupStyle:c.m_linkPopupStyle)}if(c.m_arrow&&(c.m_arrowopt===0)||(c.m_arrowopt===1&&c.m_hasmenu)||(c.m_arrowopt===2&&a.m_menu)){if(c.m_balance||c.m_hPosition===0){l+=10}if(c.m_balance||c.m_hPosition===1){r+=10}}a.style.paddingTop=t+'px';a.style.paddingRight=r+'px';a.style.paddingBottom=b+'px';a.style.paddingLeft=l+'px'}}};j.showMenu=function(a){var b;var c=[];var d;for(b=a;b;){c.unshift(b);if(!b.m_parentmenu){break}b=b.m_parentmenu.m_parentlink}for(d=j.element.length-1;d>=0;d-=1){if((d>=c.length)||(j.element[d]!==c[d])){b=j.element.pop();b.m_active=false;j.setLinkStyle(b);if(b.m_menu){j.showItem(b.m_menu,0,b.m_menu.m_fade,b.m_menu.m_fadespeed)}}else{break}}d+=1;for(;d<c.length;d+=1){b=c[d];b.m_active=true;j.setLinkStyle(b);j.element.push(b);if(b.m_menu){b.m_menu.m_parentlink=b;if(!b.m_menu.m_ispanel){j.positionMenu(b)}j.showItem(b.m_menu,1,b.m_menu.m_fade,b.m_menu.m_fadespeed)}}};j.getLinkRect=function(a,b){var d=[0,0,0,0];if(a.m_linkRect){d=a.m_linkRect}else{var e=a.m_menu;var f=(a.m_parentmenu&&!e.m_vertical)?a.m_parentmenu:a;var c=a;while(c&&c.style.position!=='relative'){d[1]+=c.offsetTop;c=c.offsetParent}c=f;while(c&&c.style.position!=='relative'){d[0]+=c.offsetLeft;c=c.offsetParent}d[3]=d[1]+a.offsetHeight;d[2]=d[0]+f.offsetWidth}if(b&&(a.m_linkRect)){var g=document.body.getElementsByTagName('div')[0];return[d[0]+g.offsetLeft,d[1]+g.offsetTop,d[2]+g.offsetLeft,d[3]+g.offsetTop]}return d};j.positionMenu=function(a){var b=a.m_menu;var d=(a.m_parentmenu&&!b.m_vertical)?a.m_parentmenu:a;var e=0;var f=0;var g=false;var c=a;while(c){if(c.className==='wpfixed'||c.style.position==='fixed'){g=true}c=c.offsetParent}b.style.position=g?'fixed':'absolute';var h=j.getLinkRect(a,g);if(b.m_vertical){if(b.m_vPosition===0){e=h[1]-b.offsetHeight+b.m_vOffset}else{e=h[3]+b.m_vOffset}if(b.m_vAlignment===0){f=h[0]}else if(b.m_vAlignment===1){f=(h[0]+h[2]-b.offsetWidth)/2}else if(b.m_vAlignment===2){f=h[2]-b.offsetWidth}else if(b.m_vAlignment===3){var i=Math.max(b.offsetWidth,h[2]-h[0]);b.style.width=i+'px';f=(h[2]+h[0]-b.offsetWidth)/2}}else{if(b.m_hPosition===0){f=h[0]-b.offsetWidth-b.m_hOffset}else{f=h[2]+b.m_hOffset}if(b.m_hAlignment===1){e=(h[1]+h[3]-b.offsetHeight)/2}else if(b.m_hAlignment===2){e=h[3]-b.offsetHeight}else{e=h[1]}}e=Math.max(0,Math.min(document.body.scrollTop+document.body.clientHeight-b.offsetHeight,e));f=Math.max(0,Math.min(document.body.scrollLeft+document.body.clientWidth-b.offsetWidth,f));b.style.top=e+'px';b.style.left=f+'px';j.fixWidth(b)}}var wpmenustack=new wp_button_menu_stack();